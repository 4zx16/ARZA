<script>
  const params = new URLSearchParams(window.location.search);
  const id = params.get('id');

  const products = {
    phantom: {
      name: 'ARZA Phantom',
      specs: ['Ryzen 7 7700X', 'RTX 4070 Ti', '32GB DDR5', '2TB NVMe SSD'],
      os: 'Windows 11 Pro',
      price: '$2,899',
      image: 'https://example.com/images/phantom.jpg',
      desc: 'A balanced powerhouse built for gamers and creators. Handles AAA gaming and multi-app workflows with ease.',
      type: 'desktop'
    },
    titan: {
      name: 'ARZA Titan X',
      specs: ['Intel i9-14900K', 'RTX 4090', '64GB DDR5', '4TB NVMe SSD'],
      os: 'Windows 11 Pro',
      price: '$4,999',
      image: 'https://example.com/images/titan.jpg',
      desc: 'Maxed out with flagship components. Perfect for 4K gaming, AI, and high-performance dev work.',
      type: 'desktop'
    },
    nova: {
      name: 'ARZA Nova',
      specs: ['Ryzen 9 7900X', 'RTX 4080', '32GB DDR5', '2TB NVMe SSD'],
      os: 'Ubuntu 22.04 LTS',
      price: '$3,799',
      image: 'https://example.com/images/nova.jpg',
      desc: 'Reliable high-performance system with elite multitasking capability. Ideal for creatives and engineers.',
      type: 'desktop'
    }
  };

  const product = products[id];

  if (product) {
    // Update page title dynamically
    document.title = `ARZA Shop | ${product.name}`;

    // Add OS to specs list
    const specsList = [...product.specs, `OS: ${product.os}`]
      .map(s => `<li>${s}</li>`).join('');

    document.getElementById('productDetails').innerHTML = `
      <div class="product-card">
        <img src="${product.image}" alt="${product.name}" class="product-image">
        <div class="product-info">
          <h1>${product.name}</h1>
          <p class="desc">${product.desc}</p>
          <ul class="specs">${specsList}</ul>
          <p class="price">${product.price}</p>
          <button class="buy-btn">Add to Cart</button>
        </div>
      </div>
    `;

    const related = Object.entries(products)
      .filter(([key, p]) => key !== id && p.type === product.type)
      .map(([key, p]) => `
        <div class="related-item" onclick="location.href='product.html?id=${key}'">
          <img src="${p.image}" alt="${p.name}">
          <h4>${p.name}</h4>
          <span>${p.price}</span>
        </div>
      `).join('');

    document.getElementById('relatedProducts').innerHTML = `
      <h2>Related Products</h2>
      <div class="related-grid">${related}</div>
    `;
  } else {
    document.getElementById('productDetails').innerHTML = '<p>Product not found.</p>';
  }
</script>
